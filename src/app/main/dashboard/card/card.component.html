<div>
    <p class="title">Pay with Debit or Credit Card</p>
    <p class="desc mt-1">Please enter your card details to make payment</p>

    <div class="mt-6">
     

        <div class="mt-2">
            <label class="mb-1 input-label">Card Number</label>
            <input id="card-number" class="input-field" placeholder="**** **** **** ****"  readonly
                />
        </div>

         <div class="mt-2">
            <label class="mb-1 input-label">Cvv</label>
            <input id="security-code" class="input-field" placeholder="**** **** **** ****" readonly
                />
        </div>

        <div class="mt-2 flex gap-4 items-center">
            <div class="w-1/2">
                <label class="mb-1 input-label">Expire Month</label>
                <input id="expiry-month"  class="input-field" placeholder="MM" maxlength="5" readonly
                    />
            </div>

            <div class="w-1/2">
                <label class="mb-1 input-label">Expiry Year</label>
                <input id="expiry-year" class="input-field" placeholder="YY" maxlength="3" readonly
                    />
            </div>
        </div>
        <div class="mt-2">
            <label class="nb-1 input-label">Card Holder's Name</label>
            <input [(ngModel)]="accountName" id="cardholder-name" class="input-field" placeholder="Full Name" readonly />
        </div>

        <button type="button" (click)="pay()" class="primaty-btn mt-4">Make Payment</button>
       <!-- @if(initStatus){ 
        <button type="button" (click)="pay()" class="primaty-btn mt-4">Make Payment</button>
       } @else{
        <button disabled type="button" (click)="pay()" class="primaty-btn mt-4">Make Payment</button>
       } -->
    </div>
</div>
<div id="3DSUI"></div>

<dialog #modalRef class="modal">
    <div class="modal-box w-[70%] lg:max-w-[28%] mx-2 sm:mx-4 md:mx-auto">
        @if(paymentLoading){
            <div class="w-[full] flex flex-col justify-center items-center">
                <div class="mt-4 px-4 py-1 bg-blue-100 bg-opacity-60 dark:bg-opacity-60 text-blue-800 text-sm font-medium rounded-full inline-flex items-center ">
                    <svg class="w-4 h-4 mr-1.5" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" 
                              stroke="currentColor" 
                              stroke-width="1.5" 
                              stroke-linecap="round" 
                              stroke-linejoin="round"
                              fill="none"/>
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" 
                              fill="currentColor" 
                              fill-opacity="0.2"/>
                      </svg>
                    <span class="text-[11px]">Secured Transaction</span>
                  </div>
                  <hr>
                  <ng-lottie class="mt-[-60px]"
                  [options]="options"
                  width="200px"
                  height="200px"
                />
                <h3 class=" sm:text-lg md:text-xl font-medium mt-[-60px]">Confirming Transaction</h3>
                <p class="text-[11px] text-gray-500 text-center" >Kindly approve the prompt sent to you</p>
              
              <div class=" px-4 py-2 bg-blue-100 mt-[5px]  bg-opacity-60  text-blue-800 text-sm font-medium rounded-full inline-flex items-center animate-pulse">
                <svg class="w-3 h-3 mr-1.5 animate-spin" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <!-- <span class="text-[12px]">{{ displayTime }}s remaining</span> -->
              </div>
             
            </div>
        } @if(retry){
            <div class="w-full">
                <h3 class=" sm:text-lg md:text-xl font-medium">Feedback</h3>
                <p class="!leading-snug mb-3 text-gray-600 font-normal !text-[13px] sm:text-base">
                    We can’t confirm this transaction yet, but we’ll update you soon.
                  </p>
                  
                  <div class="flex flex-col sm:flex-row justify-end items-center w-full gap-2 sm:gap-3">
                    <button class="w-full sm:w-auto !outline-none border-[1px] p-1 px-3 sm:px-4 rounded-md border-gray-200 !text-[13px] !leading-snug ">Close payment and wait for feedback</button>
                    <button class="w-full sm:w-auto py-1 lg:p-1 !px-4 sm:px-4 rounded-md bg-[#003e78] text-white !text-[14px] !leading-snug ">Check again</button>
                  </div>
              </div>
          
        }
    </div>
</dialog>   





   <!-- Card Form Fields -->
<!-- <div>
    <input id="card-number" placeholder="Card Number" readonly />
    <input id="security-code" placeholder="CVV" readonly />
    <input id="expiry-month" placeholder="MM" readonly />
    <input id="expiry-year" placeholder="YY" readonly />
    <input id="cardholder-name" placeholder="Name on Card" readonly />
  </div>
   -->
  <!-- 3DS Container (Required for Mastercard SecureCode) -->

  
  <!-- Pay Button -->
  <!-- <button (click)="pay()">Pay Now</button> -->